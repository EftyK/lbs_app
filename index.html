<!DOCTYPE html>
<html>
    <head>
        <title>My location-based app</title>
    </head>
    <body>
        <h1>My location-based app</h1>
        <p>This is a web app created for educational purposes.</p>
        <h2>My location information</h2>
        <p>This section will display the user's current location information.</p>


    <button onclick="getLocation()">What's my location?</button>

    <button onclick="monitorLocation()">Monitor my location</button>

    <button onclick="stopMonitoringLocation()">Stop watching me</button>

    <br><br>

    <button onclick="restoreLocation()">Restore my previous location</button>


    <p id="latitude"></p>
    <p id="longitude"></p>
    <p id="altitude"></p>
    <p id="speed"></p>
    <p id="heading"></p>


    <script>
    var id;


    function showPosition(position) {
        console.log(position);
        var lat = document.getElementById("latitude");
        var lon = document.getElementById("longitude");
        var alt = document.getElementById("altitude");
        var speed = document.getElementById("speed");
        var heading = document.getElementById("heading");
        lat.innerHTML = "Latitude: " + position.coords.latitude;
        lon.innerHTML = "Longitude: " + position.coords.longitude;
        alt.innerHTML = "Altitude: " + position.coords.altitude;
        speed.innerHTML = "Speed: " + position.coords.speed;
        heading.innerHTML = "Heading: " + position.coords.heading;

        saveLocation(position.coords.latitude, position.coords.longitude);
    }


    function saveLocation(latitude, longitude) {
        localStorage.setItem("latitude", latitude);
        localStorage.setItem("longitude", longitude);
        // localStorage.setItem("coordinates", [latitude, longitude]);
    }

    function restoreLocation() {
        var lat = document.getElementById("latitude");
        var lon = document.getElementById("longitude");

        lat.innerHTML = "Latitude: " + localStorage.getItem("latitude");
        lon.innerHTML = "Longitude: " + localStorage.getItem("longitude");
    }

    function monitorLocation() {
        id = navigator.geolocation.watchPosition(showPosition);
    }

    function stopMonitoringLocation() {
        navigator.geolocation.clearWatch(id);
        console.log("You are not being watched anymore");
    }

    function getLocation() {
        navigator.geolocation.getCurrentPosition(showPosition);
    }


    </script>

    </body>


</html>
